<app-header></app-header>


<div *ngIf="(allProduct.length==0)" class="container">

    <div class="d-flex justify-content-center align-items-center">
        <img src="https://pennpowergroup.com/images/EmptyCart.png" alt="">
        <h1 class="text-center text-danger">Your Cart is Empty</h1>
    </div> 
</div>
<div *ngIf="(allProduct.length>0)" class="d-flex flex-column mt-5 mb-5">
    <h1 class="text-center text-danger">Your Cart <i class="fa-solid fa-cart-arrow-down"></i></h1>
    
    <div class="row mt-5">
        <div class="col-1"></div>
        <div class="col-7">
            <table class="table table-striped table-bordered shadow rounded text-center">
                <thead>
                    <tr>
                        <th>SI</th>
                        <th>Product name</th>
                        <th>Product Image</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let product of allProduct let i=index" >
                        <td>{{i+1}}</td>
                        <td>{{product.title}}</td>
                        <td><img [src]="product.image" alt="" width="100px" height="100px"></td>
                        <td>
                            <div class="d-flex">
                                <button (click)="decrementCartProduct(product._id)" class="btn fw-bolder fs-4">-</button>                   
                                <input [value]="product.quantity" type="num" class="form-control text-center"  style="max-width:3rem;" readonly>
                                <button (click)="incrementCartProduct(product._id)" class="btn fw-bolder fs-4">+</button>
                            </div>
                        </td>
                        <td>$ {{product.price}}</td>
                        <td><button (click)="removeItem(product._id)" class="btn btn-outline-danger"><i class="fa-regular fa-trash-can"></i></button></td>
                    </tr>
                </tbody>
            </table>

            <div class="d-flex justify-content-center">
                <button (click)="removeAllCartItem()" class="btn btn-outline-danger"><i class="fa-regular fa-trash-can"></i> Empty Cart</button>
                <button routerLink="/" class="btn btn-outline-success ms-3"><i class="fa-solid fa-plus"></i> Add More</button>
            </div>

        </div>
        <div class="col-3 ms-3">
            <div class="shadow rounded" style="width: 300px; height: 150px;">
               <div class="d-flex flex-column">
                    <h3 class="text-center mt-4 ">Grand Total: <span class="text-danger">$ {{total}}</span></h3>
    
                    <button (click)="checkout()" routerLink="/checkout" class="btn btn-success text-center ms-5 mt-3 w-75">Place Your Order</button>
    
               </div>
            </div>

        </div>
        <div class="col-1"></div>

    </div>

</div>
<app-footer></app-footer>
